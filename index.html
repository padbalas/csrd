<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CarbonWise | TurboTax for Carbon Reporting</title>
  <style>
    :root {
      --ink: #0f172a;
      --muted: #4b5563;
      --line: #e5e7eb;
      --card: #ffffff;
      --accent: #0f766e;
      --accent-soft: #e0f2f1;
      --bg: #f7f8fb;
      font-family: "SF Pro Display", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: var(--ink);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: var(--bg);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }
    .app-layout {
      display: flex;
      min-height: 100vh;
      background: var(--bg);
    }
    .side-nav {
      width: 230px;
      padding: 24px 18px;
      background: #0b1220;
      color: #e5e7eb;
      border-right: 1px solid #111827;
      position: sticky;
      top: 0;
      height: 100vh;
      box-sizing: border-box;
    }
    .nav-header {
      font-weight: 800;
      letter-spacing: -0.01em;
      margin-bottom: 16px;
    }
    .nav-items {
      display: grid;
      gap: 6px;
    }
    .nav-item {
      display: block;
      padding: 10px 12px;
      border-radius: 10px;
      color: #e5e7eb;
      text-decoration: none;
      font-weight: 600;
    }
    .nav-item:hover:not(.disabled) {
      background: rgba(255, 255, 255, 0.08);
    }
    .nav-item.active {
      background: rgba(34, 197, 94, 0.18);
      color: #ffffff;
      border: 1px solid rgba(34, 197, 94, 0.4);
    }
    .nav-item.disabled {
      opacity: 0.5;
      cursor: default;
    }
    .app-content {
      flex: 1;
      min-width: 0;
    }
    .shell {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 20px 80px;
    }
    header {
      padding: 70px 20px 40px;
      background: radial-gradient(circle at 20% 25%, rgba(224, 242, 241, 0.35), transparent 28%), #0f172a; /* soften highlight for mobile comfort */
      color: #f8fafc;
      text-align: left;
    }
    header .shell { padding-bottom: 30px; }
    h1 {
      margin: 0 0 14px;
      font-size: clamp(34px, 4vw, 46px);
      letter-spacing: -0.015em;
      line-height: 1.2;
    }
    .subhead {
      font-size: 1.15rem;
      color: #dbeafe;
      max-width: 680px;
      margin: 0 0 18px;
    }
    .cta-row {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 14px 18px;
      border-radius: 12px;
      border: 1px solid transparent;
      font-weight: 700;
      text-decoration: none;
      cursor: pointer;
      color: inherit;
    }
    .btn.primary {
      background: #22c55e;
      color: #0f172a;
    }
    .btn.secondary {
      background: #f8fafc;
      border-color: #cbd5e1;
      color: #0f172a;
    }
    .top-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
    }
    .meta-line {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 12px;
      color: #cbd5e1;
      font-size: 0.98rem;
    }
    .hero-clarifier {
      color: #cbd5e1;
      font-size: 0.95rem;
      margin: 6px 0 16px;
    }
    .step-indicator {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      color: #dbeafe;
      font-weight: 600;
      margin: 12px 0 8px;
    }
    .trust-strip {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      color: #cbd5e1;
      font-size: 0.95rem;
      margin-top: 8px;
    }
    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      background: #e0f2f1;
      color: #0f766e;
      border-radius: 999px;
      font-weight: 700;
      font-size: 0.95rem;
    }
    h2 {
      margin: 0 0 10px;
      font-size: 1.6rem;
      letter-spacing: -0.01em;
    }
    p { margin: 0 0 12px; color: var(--muted); }
    section {
      margin-top: 26px;
      padding: 22px 20px;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 16px;
      box-shadow: 0 16px 44px rgba(15, 23, 42, 0.08);
    }
    .tag {
      display: inline-block;
      padding: 6px 10px;
      background: #e0f2f1;
      color: #0f766e;
      border-radius: 999px;
      font-weight: 600;
      font-size: 0.9rem;
    }
    .stack { display: grid; gap: 12px; }
    .grid-3 {
      display: grid;
      gap: 14px;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }
    ul { padding-left: 18px; margin: 0; color: var(--muted); }
    .muted { color: var(--muted); }
    .small { font-size: 0.95rem; }
    label {
      font-weight: 600;
      display: block;
      margin-bottom: 6px;
    }
    input, select {
      width: 100%;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid var(--line);
      font-size: 1rem;
      font-family: inherit;
      background: #fff;
    }
    .hint {
      font-size: 0.9rem;
      color: var(--muted);
      margin-top: 4px;
    }
    .two-col {
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }
    .notice {
      background: #f8fafc;
      border: 1px solid #cbd5e1;
      padding: 12px;
      border-radius: 10px;
      color: var(--muted);
      font-size: 0.95rem;
    }
    .scope1-card {
      border: 1px dashed #0f766e;
      background: #f0fdfa;
    }
    .scope1-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }
    .scope1-toggle {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
    }
    .scope1-toggle input { width: auto; }
    .scope1-teaser { margin-top: 8px; }
    .scope1-body { display: none; margin-top: 12px; }
    .scope1-body.active { display: block; }
    .scope1-results { display: none; }
    .scope1-results.active { display: block; }
    .scope1-entries { margin-top: 12px; display: grid; gap: 10px; }
    .scope1-entry {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      padding: 10px;
      border: 1px solid var(--line);
      border-radius: 10px;
      background: #ffffff;
    }
    .scope1-entry-meta { color: var(--muted); font-size: 0.95rem; }
    .result {
      display: none;
    }
    .result.active {
      display: grid;
      gap: 14px;
    }
    .example {
      background: #f8fafc;
      border: 1px dashed #cbd5e1;
      border-radius: 12px;
      padding: 12px;
      margin-bottom: 12px;
      color: var(--muted);
    }
    .stat-box {
      background: #f8fafc;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 14px;
    }
    footer {
      margin-top: 24px;
      text-align: center;
      color: var(--muted);
      font-size: 0.95rem;
      line-height: 1.5;
    }
    @media (max-width: 640px) {
      header { padding-top: 54px; }
      h1 { font-size: 32px; }
      section { padding: 18px 16px; }
    }
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.45);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 16px;
      z-index: 999;
    }
    .modal.active { display: flex; }
    .modal-content {
      background: #fff;
      border-radius: 12px;
      padding: 18px;
      width: min(520px, 100%);
      border: 1px solid #e5e7eb;
      box-shadow: 0 16px 44px rgba(15, 23, 42, 0.15);
    }
    .modal-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
      margin-top: 12px;
    }
    .history-list {
      display: grid;
      gap: 12px;
    }
    .history-item {
      border: 1px solid #e5e7eb;
      border-radius: 10px;
      padding: 12px;
      background: #f8fafc;
    }
    details summary { cursor: pointer; font-weight: 600; }
    .table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    .table th, .table td {
      padding: 10px;
      border-bottom: 1px solid #e5e7eb;
      text-align: left;
    }
    .table th {
      font-weight: 700;
      font-size: 0.95rem;
      color: var(--muted);
    }
    .table td {
      font-size: 0.95rem;
    }
    .btn.tab-active {
      border-color: #16a34a;
      color: #0f172a;
      background: #d1fae5;
      box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.15);
    }
    .tab-header {
      display: flex;
      gap: 8px;
      padding: 8px;
      border-radius: 14px;
      background: #f1f5f9;
      border: 1px solid #e5e7eb;
      margin: 6px 0 16px;
      flex-wrap: wrap;
      width: 100%;
    }
    .tab-button {
      border: 1px solid transparent;
      background: transparent;
      color: var(--muted);
      padding: 12px 18px;
      border-radius: 12px;
      font-weight: 800;
      font-size: 1rem;
      cursor: pointer;
      flex: 1;
      min-width: 220px;
      text-align: center;
    }
    .tab-button.active {
      background: #ffffff;
      color: var(--ink);
      border-color: #cbd5e1;
      box-shadow: 0 6px 16px rgba(15, 23, 42, 0.08);
    }
    .tab-panel { display: none; }
    .tab-panel.active { display: block; }
    .slide-panel {
      position: fixed;
      top: 0;
      right: 0;
      width: min(420px, 100%);
      height: 100%;
      background: #fff;
      box-shadow: -8px 0 24px rgba(15, 23, 42, 0.1);
      border-left: 1px solid #e5e7eb;
      padding: 16px;
      overflow-y: auto;
      transform: translateX(100%);
      transition: transform 0.25s ease;
      z-index: 1000;
    }
    .slide-panel.active {
      transform: translateX(0);
    }
    .hidden { display: none; }
  </style>
</head>
<body>
  <header>
    <div class="shell">
      <div class="top-row">
        <div class="tag">CarbonWise</div>
        <button class="btn secondary" id="header-signin">Log in</button>
        <button class="btn secondary" id="header-signout" style="display:none;">Log out</button>
      </div>
      <h1>Carbon reporting for small teams - without the complexity</h1>
      <p class="subhead">Calculate Scope 1 and Scope 2 emissions in minutes.</p>
      <div class="cta-row">
        <a class="btn primary" href="#calculator">Start Scope 2 electricity calculation</a>
        <a class="btn secondary" href="#scope1" id="cta-scope1">Start Scope 1 natural gas calculation</a>
      </div>
    </div>
  </header>

  <div class="shell">
    <section id="how">
      <h2>How CarbonWise works</h2>
      <div class="grid-3">
        <div>
          <strong>1) You enter Scope 1 or Scope 2 activity data</strong>
          <p class="muted">Natural gas quantity or electricity kWh, plus billing month and location.</p>
        </div>
        <div>
          <strong>2) CarbonWise applies public emission factors</strong>
          <p class="muted">Transparent, government-issued factors (EPA/DEFRA) — no black boxes.</p>
        </div>
        <div>
          <strong>3) You get a clear estimate</strong>
          <p class="muted">Scope 2 defaults to location-based, with optional market-based adjustments.</p>
        </div>
      </div>
    </section>

    <section id="calculator">
      <h2>Calculate your monthly emissions</h2>
      <p class="muted" style="margin-bottom:8px;">Choose Scope 1 or Scope 2, then enter your monthly activity data.</p>
      <div class="tab-header">
        <button type="button" class="tab-button active" data-tab-target="scope2">Scope 2 electricity</button>
        <button type="button" class="tab-button" data-tab-target="scope1">Scope 1 natural gas</button>
      </div>
      <div class="tab-panel active" data-tab="scope2">
        <form id="carbon-form" class="stack" novalidate>
        <div class="two-col">
          <div>
            <label for="persona">Who are you?</label>
            <select id="persona" name="persona" required>
              <option value="">Select one</option>
              <option value="founder">Founder / operator</option>
              <option value="finance">Finance / accounting</option>
              <option value="advisor">Fractional CFO / advisor</option>
              <option value="other">Other</option>
            </select>
            <div class="hint">We tailor the explanation tone. No personal data stored.</div>
          </div>
          <div>
            <label for="country">Country / region</label>
            <select id="country" name="country" required>
              <option value="">Select country</option>
              <option value="US">United States</option>
              <option value="CA">Canada</option>
              <option value="UK">United Kingdom</option>
              <option value="AU">Australia</option>
              <option value="SG">Singapore</option>
              <option value="NZ">New Zealand</option>
            </select>
            <div class="hint">We match public grid factors; you can adjust later.</div>
          </div>
        </div>
        <div class="two-col">
          <div>
            <label for="month">Billing month</label>
            <select id="month" name="month" required>
              <option value="">Select month</option>
              <option>January</option><option>February</option><option>March</option><option>April</option>
              <option>May</option><option>June</option><option>July</option><option>August</option>
              <option>September</option><option>October</option><option>November</option><option>December</option>
            </select>
            <div class="hint">Enter the month electricity was consumed, not when the bill was paid.</div>
          </div>
          <div>
            <label for="year">Billing year</label>
            <select id="year" name="year" required></select>
            <div class="hint">We show only years up to the current year; future periods are blocked.</div>
          </div>
        </div>
        <div class="two-col">
          <div>
            <label for="kwh">Electricity used (kWh)</label>
            <input type="number" id="kwh" name="kwh" min="1" step="any" required placeholder="e.g., 1200" />
            <div class="hint">Found on your statement as total kWh for the month.</div>
          </div>
          <div>
            <label for="region">State / region</label>
            <select id="region" name="region" required>
              <option value="">Select state / province</option>
            </select>
            <div class="hint">Choose your state (US) or province/territory (Canada). Used only to contextualize results.</div>
          </div>
        </div>
        <div class="notice">
          No portals, no jargon - just a clear estimate. No uploads. Calculate without an account; sign in only to save or export. Uses public EPA/DEFRA factors. Informational, not a filing.
        </div>
        <div class="cta-row" style="justify-content:flex-start;">
          <button type="button" class="btn primary" id="scope2-calc-btn">See my Scope 2 electricity emissions</button>
        </div>
        <div class="notice" style="margin-top:10px;">
          <label style="display:flex;align-items:center;gap:8px;font-weight:600;">
            <input type="checkbox" id="market-toggle" style="width:auto;" />
            Include market-based Scope 2 (using RECs/PPAs where provided)
          </label>
          <div class="hint" style="margin-top:6px;">Market-based Scope 2 reflects purchased renewable energy instruments such as RECs or PPAs. Optional and off by default.</div>
          <div id="market-fields" class="stack" style="margin-top:10px; display:none;">
            <div class="two-col">
              <div>
                <label for="market-type">Instrument type (market-based Scope 2)</label>
                <select id="market-type" name="market-type">
                  <option value="">Select instrument</option>
                  <option value="REC">REC</option>
                  <option value="PPA">PPA</option>
                  <option value="Green tariff">Green tariff</option>
                </select>
                <div class="hint">We do not verify certificates or contracts; this is user-declared.</div>
              </div>
              <div>
                <label for="market-kwh">Covered electricity (kWh)</label>
                <input type="number" id="market-kwh" name="market-kwh" min="0" step="any" placeholder="e.g., 500" />
                <div class="hint">Portion of your kWh covered by RECs/PPAs. Uncovered kWh uses location-based factors.</div>
              </div>
            </div>
            <div class="two-col">
              <div>
                <label for="market-year">Reporting year (market-based Scope 2)</label>
                <select id="market-year" name="market-year"></select>
                <div class="hint">Must be current or past years only.</div>
              </div>
            </div>
          </div>
        </div>
        </form>
        <!-- Trust strip anchors methodology without heavy enterprise vibe -->
        <div class="notice" style="margin-top:10px;">
          <!-- Trust anchor: make methodology visible without crowding the UI -->
          <strong>Methodology:</strong> GHG Protocol Scope 2 electricity (location-based) • <strong>Emission factors:</strong> Public, government-issued data (year-stamped) • Estimates only — not legal, tax, or audit advice. <a href="methodology.html">See Methodology</a>.
        </div>

        <section id="results">
          <h2>Your Scope 2 electricity estimate</h2>
          <!-- Pre-calculated example builds trust before interaction -->
          <div class="example">
            <strong>Example:</strong> 1,850 kWh → 1.42 tCO₂e ≈ driving ~3,500 miles. For intuition only (non-reporting metric).
          </div>
          <div id="result-container" class="result">
            <div class="grid-3">
              <div class="stat-box">
                <strong id="result-tons">—</strong><br />
                <span class="muted">Location-based Scope 2 electricity (tCO₂e)</span>
              </div>
              <div class="stat-box">
                <strong id="result-compare">—</strong><br />
                <span class="muted">Real-world comparison</span>
                <div class="muted small">For intuition only (non-reporting metric)</div>
              </div>
              <div class="stat-box">
                <strong id="result-next">—</strong><br />
                <span class="muted">What to do next</span>
              </div>
              <div class="stat-box">
                <strong id="result-market">—</strong><br />
                <span class="muted">Market-based Scope 2 electricity (tCO₂e, RECs/PPAs)</span>
              </div>
            </div>
            <div class="notice" id="calc-details"></div>
            <p class="muted" id="factor-mismatch" style="display:none;"></p>
            <p class="muted" id="interpretation"></p>
            <p class="muted small">Calculated using location-based Scope 2 electricity factors (tCO₂e); market-based uses RECs/PPAs where provided. <a href="methodology.html">See Methodology</a>.</p>
            <p class="muted" id="disclaimer"><strong>Disclaimer:</strong> CarbonWise provides informational estimates only. This is not legal, audit, or tax advice.</p>
            <div class="notice" id="market-disclaimer" style="display:none;">
              <strong>Market-based note:</strong> Market-based Scope 2 electricity emissions depend on contractual instruments and are reported separately from location-based emissions. This estimate is based on user-declared renewable energy instruments. CarbonWise does not verify certificates or contracts and does not provide legal, tax, or audit advice.
              <div id="market-details" class="muted" style="margin-top:6px;"></div>
            </div>
            <div class="notice" id="compliance-helper">
              <strong>Compliance context (plain English):</strong><br />
              California SB-253 / SB-261 and EU CSRD apply to certain larger companies or those operating in those regions. Many small businesses are not required to report yet. This is high-level guidance only — not legal, audit, or tax advice.
            </div>
            <div class="cta-row" style="margin-top:12px; justify-content:flex-start;">
              <button type="button" class="btn primary" id="save-btn">Save record</button>
              <button type="button" class="btn secondary" id="signout-btn" style="display:none;">Log out</button>
            </div>
          </div>
          <div id="placeholder" class="muted">Your results will appear here after you calculate.</div>
        </section>
      </div>
      <div class="tab-panel" data-tab="scope1">

    <section id="scope1" class="scope1-card">
      <div class="scope1-header">
        <div>
          <h2>Calculate your monthly Scope 1 (Stationary combustion — Natural gas)</h2>
          <p class="muted small">Estimate Scope 1 natural gas emissions in minutes.</p>
        </div>
      </div>
      <div id="scope1-body" class="scope1-body active">
        <div class="two-col">
          <div>
            <h3 style="margin-top:0;">Included</h3>
            <ul>
              <li>stationary combustion only</li>
              <li>natural gas</li>
              <li>owned/controlled facilities</li>
              <li>heating/boilers/furnaces/generators with regular metered usage</li>
            </ul>
          </div>
          <div>
            <h3 style="margin-top:0;">Excluded</h3>
            <ul>
              <li>mobile combustion</li>
              <li>fugitive emissions</li>
              <li>process emissions</li>
              <li>backup generators with irregular usage (unless metered)</li>
              <li>personal fuel use</li>
              <li>shared buildings without clear allocation</li>
            </ul>
          </div>
        </div>
        <p class="muted small" style="margin-top:10px;">See methodology for Scope 1 details. <a href="methodology.html#scope-1">Methodology</a>.</p>

        <form id="scope1-form" class="stack" style="margin-top:14px;">
          <div class="two-col">
            <div>
              <label for="scope1-month">Billing month</label>
              <select id="scope1-month" required>
                <option value="">Select month</option>
                <option value="1">January</option>
                <option value="2">February</option>
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
                <option value="9">September</option>
                <option value="10">October</option>
                <option value="11">November</option>
                <option value="12">December</option>
              </select>
            </div>
            <div>
              <label for="scope1-year">Billing year</label>
              <select id="scope1-year" required></select>
            </div>
          </div>
          <div class="two-col">
            <div>
              <label for="scope1-country">Facility country / region</label>
              <select id="scope1-country" required>
                <option value="">Select country</option>
                <option value="US">United States</option>
                <option value="CA">Canada</option>
                <option value="UK">United Kingdom</option>
                <option value="AU">Australia</option>
                <option value="SG">Singapore</option>
                <option value="NZ">New Zealand</option>
              </select>
            </div>
            <div>
              <label for="scope1-region">Facility region</label>
              <select id="scope1-region" required>
                <option value="">Select region</option>
              </select>
            </div>
          </div>
          <div class="two-col">
            <div>
              <label for="scope1-quantity">Natural gas quantity</label>
              <input type="number" id="scope1-quantity" min="0" step="any" required />
            </div>
            <div>
              <label for="scope1-unit">Unit</label>
              <select id="scope1-unit" required>
                <option value="">Select unit</option>
                <option value="therms">Therms (US)</option>
                <option value="m3">Cubic meters (m3)</option>
                <option value="kwh-eq">kWh-equivalent</option>
              </select>
            </div>
          </div>
          <div>
            <label for="scope1-notes">Notes (optional)</label>
            <input type="text" id="scope1-notes" maxlength="240" placeholder="Optional context for this entry" />
          </div>
          <div class="cta-row" style="justify-content:flex-start;">
            <button type="submit" class="btn primary" id="scope1-calc">Calculate Scope 1 estimate</button>
          </div>
          <p class="muted small" id="scope1-status"></p>
        </form>

        <div id="scope1-results" class="notice scope1-results" style="margin-top:14px;">
          <div><strong>Scope 1 estimate (tCO₂e)</strong></div>
          <div id="scope1-result-value" style="font-size:1.4rem; font-weight:700; margin-top:4px;">—</div>
          <div class="muted small" id="scope1-factor-details" style="margin-top:6px;"></div>
          <p class="muted small" id="scope1-disclosure" style="margin-top:8px;"></p>
          <div class="cta-row" style="margin-top:12px; justify-content:flex-start;">
            <button type="button" class="btn primary" id="scope1-save" disabled>Save Scope 1 record</button>
          </div>
        </div>
      </div>
    </section>
      </div>
    </section>

    <section id="privacy">
      <h2>Privacy & trust</h2>
      <ul>
        <li>No uploads. We never ask for bills or PDFs.</li>
        <li>Calculate without an account. Log in only to save Scope 1 or Scope 2 records.</li>
        <li>We only store what you save to your account. No extra personal data.</li>
        <li>Scope 2 electricity factors from EPA / DEFRA — transparent and explainable.</li>
        <li>Scope 1 natural gas factors from public government sources — transparent and explainable.</li>
      </ul>
    </section>

    <section id="vision">
      <h2>CarbonWise is just getting started</h2>
      <p class="muted">We’re building the calm, obvious path to carbon reporting.</p>
      <div class="grid-3">
        <div>
          <strong>Monthly tracking</strong>
          <p class="muted">See trends over time and surface anomalies automatically.</p>
        </div>
        <div>
          <strong>Scope 2 + Scope 1 coverage</strong>
          <p class="muted">Track Scope 2 electricity and Scope 1 natural gas in one place.</p>
        </div>
        <div>
          <strong>Exportable summaries</strong>
          <p class="muted">Share clean, audit-friendly summaries with stakeholders.</p>
        </div>
      </div>
    </section>

    <footer>
      <!-- Footer trust signals: methodology, support, and factor freshness -->
      <p><a href="methodology.html">Methodology</a> • <a href="mailto:hello@esgrise.com">Contact / support</a></p>
      <p class="muted small">Emission factors updated as of 2024.</p>
    </footer>
  </div>

  <!-- Auth + company modal -->
  <div class="modal" id="auth-modal">
    <div class="modal-content">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:8px;">
        <h3 id="auth-modal-title" style="margin:0;">Log in to save & track history</h3>
        <button type="button" class="btn secondary" id="auth-close" aria-label="Close auth modal" style="padding:8px 10px;">×</button>
      </div>
      <p class="muted" id="auth-modal-desc">Log in to save results and track your history. Calculations work without an account.</p>

      <div class="stack">
        <div class="cta-row" style="justify-content:flex-start;gap:8px;">
          <button type="button" class="btn secondary" id="auth-tab-signin">Log in</button>
          <button type="button" class="btn secondary" id="auth-tab-signup">Create account</button>
        </div>

        <form id="auth-form-signin" class="stack" style="display:block;">
          <div>
            <label for="auth-email">Email</label>
            <input type="email" id="auth-email" required placeholder="you@example.com" />
          </div>
          <div>
            <label for="auth-password">Password</label>
            <input type="password" id="auth-password" required placeholder="••••••••" autocomplete="current-password" />
          </div>
          <div class="modal-actions" style="justify-content:space-between;flex-wrap:wrap;gap:8px;">
            <div style="display:flex;gap:8px;align-items:center;">
              <button type="button" class="btn secondary" id="auth-forgot">Forgot password?</button>
            </div>
            <button type="submit" class="btn primary" id="auth-submit">Log in</button>
          </div>
          <button type="button" class="btn secondary" id="auth-passcode" style="width:auto;">Use email passcode instead</button>
          <p class="muted small" id="auth-status"></p>
          <p class="muted small" id="auth-status-passcode" style="display:none;">We’ll email you a secure one-time sign-in link.</p>
          <p class="muted small" id="auth-status-passcode-hint" style="display:none;">After clicking the email link, continue in that tab. Refresh here if needed.</p>
        </form>

        <form id="auth-form-signup" class="stack" style="display:none;">
          <div>
            <label for="auth-email-signup">Email</label>
            <input type="email" id="auth-email-signup" required placeholder="you@example.com" />
          </div>
          <div>
            <label for="auth-password-signup">Password</label>
            <input type="password" id="auth-password-signup" required placeholder="••••••••" autocomplete="new-password" />
          </div>
          <div>
            <label for="signup-company-name">Company name</label>
            <input type="text" id="signup-company-name" required placeholder="Acme Co." />
          </div>
          <div class="two-col">
            <div>
              <label for="signup-company-country">Company country / region</label>
              <select id="signup-company-country" required>
                <option value="">Select country</option>
                <option value="US">United States</option>
                <option value="CA">Canada</option>
                <option value="UK">United Kingdom</option>
                <option value="AU">Australia</option>
                <option value="SG">Singapore</option>
                <option value="NZ">New Zealand</option>
              </select>
            </div>
            <div>
              <label for="signup-company-region">State / region</label>
              <select id="signup-company-region" required>
                <option value="">Select state / province</option>
              </select>
            </div>
          </div>
          <div class="modal-actions" style="justify-content:flex-end;">
            <button type="submit" class="btn primary" id="auth-submit-signup">Create account</button>
          </div>
          <p class="muted small" id="auth-status-signup"></p>
          <p class="muted small">Check your email to confirm your account before signing in.</p>
        </form>

        <form id="auth-form-reset" class="stack" style="display:none;">
          <div>
            <label for="auth-email-reset">Email</label>
            <input type="email" id="auth-email-reset" required placeholder="you@example.com" />
          </div>
          <div class="modal-actions" style="justify-content:flex-end;">
            <button type="submit" class="btn primary" id="auth-submit-reset">Send reset link</button>
          </div>
          <p class="muted small" id="auth-status-reset">We’ve sent you a password reset link.</p>
        </form>

        <form id="auth-form-update-password" class="stack" style="display:none;">
          <div>
            <label for="auth-password-new">New password</label>
            <input type="password" id="auth-password-new" required placeholder="Set a new password" autocomplete="new-password" />
          </div>
          <div class="modal-actions" style="justify-content:flex-end;">
            <button type="submit" class="btn primary" id="auth-submit-update">Update password</button>
          </div>
          <p class="muted small" id="auth-status-update">Enter a new password to complete reset.</p>
        </form>

        <form id="company-form" class="stack" style="display:none;">
          <div>
            <label for="company-name">Company name</label>
            <input type="text" id="company-name" required placeholder="Acme Co." />
          </div>
          <div class="two-col">
            <div>
              <label for="company-country">Company country</label>
              <select id="company-country" required>
                <option value="">Select country</option>
                <option value="US">United States</option>
                <option value="CA">Canada</option>
                <option value="UK">United Kingdom</option>
                <option value="AU">Australia</option>
                <option value="SG">Singapore</option>
                <option value="NZ">New Zealand</option>
              </select>
            </div>
            <div>
              <label for="company-region">Region / state</label>
              <input type="text" id="company-region" required placeholder="e.g., California" />
            </div>
          </div>
          <div class="modal-actions">
            <button type="button" class="btn secondary" id="company-back">Back</button>
            <button type="submit" class="btn primary" id="company-submit">Save company</button>
          </div>
          <p class="muted small">No bill uploads required. We only store the usage values you enter.</p>
        </form>
      </div>
    </div>
  </div>

  <!-- View record modal -->
  <div class="modal" id="view-modal">
    <div class="modal-content">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:8px;">
        <h3 style="margin:0;">Record details</h3>
        <button type="button" class="btn secondary" id="view-close" aria-label="Close view modal" style="padding:8px 10px;">×</button>
      </div>
      <div class="stack" id="view-body" style="margin-top:10px;"></div>
      <p class="muted small" style="margin-top:10px;">Location-based Scope 2 electricity calculation aligned with the GHG Protocol.</p>
    </div>
  </div>

  <!-- Edit record modal -->
  <div class="modal" id="edit-modal">
    <div class="modal-content">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:8px;">
        <h3 style="margin:0;">Edit record</h3>
        <button type="button" class="btn secondary" id="edit-close" aria-label="Close edit modal" style="padding:8px 10px;">×</button>
      </div>
      <form id="edit-form" class="stack" style="margin-top:10px;">
        <div class="two-col">
          <div>
            <label>Billing period</label>
            <input type="text" id="edit-period" readonly />
          </div>
          <div>
            <label>Factor source / year</label>
            <input type="text" id="edit-factor" readonly />
          </div>
        </div>
        <div>
          <label for="edit-kwh">Electricity used (kWh)</label>
          <input type="number" id="edit-kwh" min="1" step="any" required />
        </div>
        <div class="two-col">
          <div>
            <label for="edit-market-type">Instrument type (market-based Scope 2)</label>
            <select id="edit-market-type">
              <option value="">Select instrument</option>
              <option value="REC">REC</option>
              <option value="PPA">PPA</option>
              <option value="Green tariff">Green tariff</option>
            </select>
          </div>
          <div>
            <label for="edit-covered">Covered electricity (kWh)</label>
            <input type="number" id="edit-covered" min="0" step="any" placeholder="0" />
          </div>
        </div>
        <p class="muted small">This update recalculates emissions using the same methodology.</p>
        <div class="modal-actions">
          <button type="submit" class="btn primary" id="edit-save">Save</button>
        </div>
        <p class="muted small" id="edit-status"></p>
      </form>
    </div>
  </div>

  <!-- Slide-out record detail panel -->
  <div id="recordPanel" class="slide-panel hidden" aria-live="polite"></div>

  <script type="module" src="js/index.js"></script>
</body>
</html>
